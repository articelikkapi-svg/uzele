import{p as I,r as n,o as e}from"./chunk-4WY6JWTD-DFTDdkfG.js";import{C as r}from"./PolymorphicComponent-tP8vNReo.js";import{M as N}from"./map-pin-BxremVKW.js";import{M as i,P as h}from"./phone-DqnJLK7W.js";import{C as v}from"./calendar-848kgmdj.js";import{U as y}from"./users-Bj-mbs66.js";const P=I(function(){const[t,b]=n.useState([]),[l,f]=n.useState([]),[j,p]=n.useState(!0),[c,m]=n.useState("travel");n.useEffect(()=>{o()},[]);const o=async()=>{try{const[d,s]=await Promise.all([fetch("/api/admin/travel-inquiries"),fetch("/api/admin/contact-messages")]);if(d.ok){const a=await d.json();b(a.inquiries||[])}if(s.ok){const a=await s.json();f(a.messages||[])}}catch(d){console.error("Error fetching data:",d)}finally{p(!1)}},g=async(d,s)=>{try{(await fetch("/api/admin/travel-inquiries",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:d,status:s})})).ok&&o()}catch(a){console.error("Error updating status:",a)}},x=d=>new Date(d).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return j?e.jsx(r,{className:"min-h-screen bg-gray-50 flex items-center justify-center",renderId:"render-bbb480a6",as:"div",children:e.jsxs(r,{className:"text-center",renderId:"render-3bbe1883",as:"div",children:[e.jsx(r,{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto mb-4",renderId:"render-a703882e",as:"div"}),e.jsx(r,{className:"text-gray-600",renderId:"render-55380c7a",as:"p",children:"Yükleniyor..."})]})}):e.jsxs(r,{className:"min-h-screen bg-gray-50",renderId:"render-b17a72a9",as:"div",children:[e.jsx(r,{className:"bg-white shadow-md",renderId:"render-103bb48c",as:"div",children:e.jsx(r,{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",renderId:"render-a993ef8e",as:"div",children:e.jsxs(r,{className:"flex justify-between items-center",renderId:"render-f0c8afef",as:"div",children:[e.jsx(r,{className:"text-3xl font-bold text-gray-900",renderId:"render-e7f03fd2",as:"h1",children:"Admin Paneli"}),e.jsx(r,{href:"/",className:"text-emerald-600 hover:text-emerald-700 font-semibold",renderId:"render-98370b3c",as:"a",children:"Ana Sayfaya Dön"})]})})}),e.jsxs(r,{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",renderId:"render-a42edad1",as:"div",children:[e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",renderId:"render-ad8e559a",as:"div",children:[e.jsx(r,{className:"bg-white p-6 rounded-xl shadow-md",renderId:"render-4d178eb6",as:"div",children:e.jsxs(r,{className:"flex items-center justify-between",renderId:"render-22806d2a",as:"div",children:[e.jsxs(r,{renderId:"render-856948ea",as:"div",children:[e.jsx(r,{className:"text-gray-600 text-sm font-semibold",renderId:"render-8efb8860",as:"p",children:"Seyahat Talepleri"}),e.jsx(r,{className:"text-3xl font-bold text-gray-900 mt-2",renderId:"render-53526aaf",as:"p",children:t.length})]}),e.jsx(r,{className:"bg-blue-100 p-4 rounded-full",renderId:"render-ba182c42",as:"div",children:e.jsx(N,{className:"text-blue-600",size:32})})]})}),e.jsx(r,{className:"bg-white p-6 rounded-xl shadow-md",renderId:"render-b1462579",as:"div",children:e.jsxs(r,{className:"flex items-center justify-between",renderId:"render-7494d576",as:"div",children:[e.jsxs(r,{renderId:"render-1b038f96",as:"div",children:[e.jsx(r,{className:"text-gray-600 text-sm font-semibold",renderId:"render-a94910f9",as:"p",children:"İletişim Mesajları"}),e.jsx(r,{className:"text-3xl font-bold text-gray-900 mt-2",renderId:"render-7bb0539e",as:"p",children:l.length})]}),e.jsx(r,{className:"bg-emerald-100 p-4 rounded-full",renderId:"render-896dcb9d",as:"div",children:e.jsx(i,{className:"text-emerald-600",size:32})})]})})]}),e.jsxs(r,{className:"bg-white rounded-xl shadow-md overflow-hidden",renderId:"render-77efff4a",as:"div",children:[e.jsx(r,{className:"border-b border-gray-200",renderId:"render-4251f6e5",as:"div",children:e.jsxs(r,{className:"flex",renderId:"render-89c54d6a",as:"div",children:[e.jsxs(r,{onClick:()=>m("travel"),className:`px-6 py-4 font-semibold ${c==="travel"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-600 hover:text-gray-900"}`,renderId:"render-250bce1e",as:"button",children:["Seyahat Talepleri (",t.length,")"]}),e.jsxs(r,{onClick:()=>m("contact"),className:`px-6 py-4 font-semibold ${c==="contact"?"text-emerald-600 border-b-2 border-emerald-600":"text-gray-600 hover:text-gray-900"}`,renderId:"render-7152e091",as:"button",children:["İletişim Mesajları (",l.length,")"]})]})}),e.jsxs(r,{className:"p-6",renderId:"render-fc391aa8",as:"div",children:[c==="travel"&&e.jsx(r,{className:"space-y-6",renderId:"render-cc91a620",as:"div",children:t.length===0?e.jsx(r,{className:"text-gray-600 text-center py-8",renderId:"render-cfc26ed2",as:"p",children:"Henüz seyahat talebi bulunmuyor."}):t.map(d=>e.jsxs(r,{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition",renderId:"render-1a6160e1",as:"div",children:[e.jsxs(r,{className:"flex justify-between items-start mb-4",renderId:"render-9bacb10e",as:"div",children:[e.jsxs(r,{renderId:"render-6da2140b",as:"div",children:[e.jsx(r,{className:"text-xl font-bold text-gray-900",renderId:"render-ea7b9bf3",as:"h3",children:d.full_name}),e.jsx(r,{className:"text-sm text-gray-500",renderId:"render-f5b11c3d",as:"p",children:x(d.created_at)})]}),e.jsxs(r,{value:d.status,onChange:s=>g(d.id,s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500",renderId:"render-2bb13f07",as:"select",children:[e.jsx(r,{value:"new",renderId:"render-d75b0183",as:"option",children:"Yeni"}),e.jsx(r,{value:"contacted",renderId:"render-038369e1",as:"option",children:"İletişime Geçildi"}),e.jsx(r,{value:"in_progress",renderId:"render-3b1360ee",as:"option",children:"İşlemde"}),e.jsx(r,{value:"completed",renderId:"render-531465f2",as:"option",children:"Tamamlandı"})]})]}),e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",renderId:"render-f872f3c2",as:"div",children:[e.jsxs(r,{className:"flex items-center text-gray-600",renderId:"render-5bb0ea0b",as:"div",children:[e.jsx(i,{size:18,className:"mr-2"}),e.jsx(r,{renderId:"render-fa4cad50",as:"span",children:d.email})]}),e.jsxs(r,{className:"flex items-center text-gray-600",renderId:"render-555b8b2c",as:"div",children:[e.jsx(h,{size:18,className:"mr-2"}),e.jsx(r,{renderId:"render-4d593b92",as:"span",children:d.phone})]}),e.jsxs(r,{className:"flex items-center text-gray-600",renderId:"render-60b97de6",as:"div",children:[e.jsx(v,{size:18,className:"mr-2"}),e.jsx(r,{renderId:"render-cf15549e",as:"span",children:d.travel_dates})]}),e.jsxs(r,{className:"flex items-center text-gray-600",renderId:"render-331efbb6",as:"div",children:[e.jsx(y,{size:18,className:"mr-2"}),e.jsxs(r,{renderId:"render-20cc8a88",as:"span",children:[d.number_of_people," kişi"]})]})]}),d.interests&&e.jsxs(r,{className:"mb-2",renderId:"render-8a0a6053",as:"div",children:[e.jsx(r,{className:"font-semibold text-gray-700",renderId:"render-131486f6",as:"span",children:"İlgi Alanları:"}),e.jsx(r,{className:"text-gray-600 ml-2",renderId:"render-6195dfa8",as:"span",children:d.interests})]}),d.budget_range&&e.jsxs(r,{className:"mb-2",renderId:"render-67eb2836",as:"div",children:[e.jsx(r,{className:"font-semibold text-gray-700",renderId:"render-f4e37da3",as:"span",children:"Bütçe:"}),e.jsx(r,{className:"text-gray-600 ml-2",renderId:"render-58ed60bd",as:"span",children:d.budget_range})]}),d.additional_details&&e.jsxs(r,{className:"mt-4 p-4 bg-gray-50 rounded-lg",renderId:"render-2ffd5b21",as:"div",children:[e.jsx(r,{className:"font-semibold text-gray-700 mb-2",renderId:"render-32eb9f2e",as:"p",children:"Ek Detaylar:"}),e.jsx(r,{className:"text-gray-600",renderId:"render-d7306804",as:"p",children:d.additional_details})]})]},d.id))}),c==="contact"&&e.jsx(r,{className:"space-y-6",renderId:"render-c9f70c92",as:"div",children:l.length===0?e.jsx(r,{className:"text-gray-600 text-center py-8",renderId:"render-d40e9673",as:"p",children:"Henüz iletişim mesajı bulunmuyor."}):l.map(d=>e.jsxs(r,{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition",renderId:"render-a30f58a2",as:"div",children:[e.jsx(r,{className:"flex justify-between items-start mb-4",renderId:"render-61120533",as:"div",children:e.jsxs(r,{renderId:"render-469228dd",as:"div",children:[e.jsx(r,{className:"text-xl font-bold text-gray-900",renderId:"render-21939fa9",as:"h3",children:d.full_name}),e.jsx(r,{className:"text-sm text-gray-500",renderId:"render-da5eebdb",as:"p",children:x(d.created_at)})]})}),e.jsxs(r,{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",renderId:"render-01851c68",as:"div",children:[e.jsxs(r,{className:"flex items-center text-gray-600",renderId:"render-acb8696d",as:"div",children:[e.jsx(i,{size:18,className:"mr-2"}),e.jsx(r,{renderId:"render-9284c2cb",as:"span",children:d.email})]}),d.phone&&e.jsxs(r,{className:"flex items-center text-gray-600",renderId:"render-8abf1cc6",as:"div",children:[e.jsx(h,{size:18,className:"mr-2"}),e.jsx(r,{renderId:"render-75cac890",as:"span",children:d.phone})]})]}),e.jsxs(r,{className:"mb-4",renderId:"render-060a5cda",as:"div",children:[e.jsx(r,{className:"font-semibold text-gray-700",renderId:"render-12ba7ed4",as:"span",children:"Konu:"}),e.jsx(r,{className:"text-gray-600 ml-2",renderId:"render-7a21a0dd",as:"span",children:d.subject})]}),e.jsxs(r,{className:"p-4 bg-gray-50 rounded-lg",renderId:"render-11b503cb",as:"div",children:[e.jsx(r,{className:"font-semibold text-gray-700 mb-2",renderId:"render-9b116b13",as:"p",children:"Mesaj:"}),e.jsx(r,{className:"text-gray-600 whitespace-pre-wrap",renderId:"render-428b3b88",as:"p",children:d.message})]})]},d.id))})]})]})]})]})});export{P as default};
